(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{374:function(t,e,s){"use strict";s.r(e);var o=s(42),v=Object(o.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("2018-03-31 19:17，发布于博客园")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/isLiu/p/8683801.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/isLiu/p/8683801.html"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("最近公司做的业务都是使用Vue、Element写的，涉及到的相应的基础业务像轮播、预加载、懒加载，都是使用\nNPM上的工具来实现，原理和基础还是要有的，就来实现几个项目中常用到的业务。")]),t._v(" "),s("p",[t._v("经常见到这样的效果，导航在页面中间，当界面滚动到导航的时候，导航就变成了"),s("code",[t._v("fixed")]),t._v("布局。为了看效果，我加了边框。")]),t._v(" "),s("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1272362/201803/1272362-20180331182840542-161849516.png",width:"320",height:"568"}}),t._v(" "),s("p",[t._v("刚开始，京东金融的注册登陆、还有下载App的导航在界面中部。当你滚动到导航的位置或者是再向下滚动的时候，导航就固定住了。")]),t._v(" "),s("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1272362/201803/1272362-20180331183052439-2003928584.png",width:"320",height:"568"}}),t._v(" "),s("p",[t._v("这就是大概效果，反之滚动回来的时候，导航还在界面中部。来实现一下吧。")]),t._v(" "),s("h2",{attrs:{id:"js实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js实现"}},[t._v("#")]),t._v(" JS实现")]),t._v(" "),s("p",[t._v("不难，首先记录最初导航的位置，然后监听scroll事件控制CSS就好了。说的简单，感觉做了整么长时间的前端，基础都快忘光了，做了好久才实现，其中都是基础不牢固惹的货，看来以后还是要注重基础。")]),t._v(" "),s("p",[t._v("话不多说，就是几行代码，优化就不做了。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("        methods: {\n            scrolls () {\n                var header = this.$refs.header.$el   \n                var headerTop = header.offsetTop                             \n                window.onscroll = () => {\n                    if (document.documentElement.scrollTop > headerTop)\n                        header.style.position = 'fixed'\n                    else\n                        header.style.position = 'static'\n                }\n            }\n        },\n        mounted () {\n            this.scrolls()\n        }\n")])])]),s("p",[t._v("对呀，这么简单，为啥还整了一篇随笔呢？别急，那你会用CSS实现吗？")]),t._v(" "),s("h2",{attrs:{id:"css实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css实现"}},[t._v("#")]),t._v(" CSS实现")]),t._v(" "),s("p",[t._v("面试时候有人会问，position有那几种值，你说：绝对的、相对的、fixed，能说出这些是不及格的。")]),t._v(" "),s("p",[t._v("那你想了想，哦对，还有static，嗯，勉强合格。")]),t._v(" "),s("p",[t._v("优秀一点的同学会说还有"),s("code",[t._v("inherit")]),t._v("、"),s("code",[t._v("initial")]),t._v("、"),s("code",[t._v("unset")]),t._v("，嗯不错，挺好，还有吗？")]),t._v(" "),s("p",[t._v("这时候你赶紧趁着趁着面试官说话的时机百度了一下，发现还有一个值，"),s("code",[t._v("sticky")]),t._v("，你装作思考了一下说还有一个"),s("code",[t._v("sticky")]),t._v("，面试管觉得你很不错，那你在业务种使用过这个值吗？GG。")]),t._v(" "),s("p",[s("code",[t._v("sticky")]),t._v("，就叫它粘性定位吧，粘性定位是基于"),s("code",[t._v("position:relative")]),t._v("和"),s("code",[t._v("position:fixed")]),t._v("两者之间的，为什么说介于两者之间呢？粘性定位根据一个阈值来决定，超出阈值之前采用"),s("code",[t._v("相对定位")]),t._v("，超出阈值之后就是"),s("code",[t._v("fixed定位")]),t._v("了。")]),t._v(" "),s("p",[t._v("那这个阈值又是什么呢？就是"),s("code",[t._v("top")]),t._v("、"),s("code",[t._v("right")]),t._v("、"),s("code",[t._v("bottom")]),t._v("、"),s("code",[t._v("left")]),t._v("四种之一，也只有这四种之一，才能让粘性定位生效，否则表现为"),s("code",[t._v("相对定位")]),t._v("。")]),t._v(" "),s("p",[t._v("相对定位和fixed定位，拿不就完美的解决了我们的问题了吗？没错。来试试吧。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(".header {\n        color: #666;\n        height: 100px;\n        line-height: 100px;\n        position: sticky;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n        font-size: 32px;\n        background: #fff url(//m.jr.jd.com/spe/qyy/main/images/jr-logo.png) center center no-repeat;\n        background-size: auto 50%;\n        z-index: 100;\n        border: 1px solid #999;\n        }\n")])])]),s("p",[t._v("看看效果：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://images2018.cnblogs.com/blog/1272362/201803/1272362-20180331190842657-2013103911.gif",alt:""}})]),t._v(" "),s("p",[t._v("和之前使用JS实现的没什么区别，不过有句话说的好，能用CSS的话就别用JS，从性能上来考虑还是"),s("code",[t._v("粘性定位")]),t._v("更好一点。")]),t._v(" "),s("p",[t._v("注意了：并且 top 和 bottom 同时设置时，top 生效的优先级高，left 和 right 同时设置时，left 的优先级高。")]),t._v(" "),s("p",[t._v("不过美中不足的是："),s("code",[t._v("position:sticky")]),t._v("的兼容性不太强。")]),t._v(" "),s("p",[t._v("如果我们在面试中能说出这样的一个属性及其相关说明，并能给出它具体的业务场景的话，那就相当的不错了。")])])}),[],!1,null,null,null);e.default=v.exports}}]);